<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="og:url" content="https://missing-semesters-ruet.github.io//2019/package-management/" />
  <meta property="og:site_name" content="The Missing Semesters of Your CS" />

   
  <meta name="twitter:title" content="Package Management and Dependency Management" />
  <meta property="og:title" content="Package Management and Dependency Management" />

  

  <title>
      Package Management and Dependency Management &middot; The Missing Semesters of Your CS  
  </title>

  <link rel="stylesheet" href="/missing-semester/static/css/main.css" />
  <link rel="stylesheet" href="/missing-semester/static/css/syntax.css" />
  <link rel="stylesheet" href="/missing-semester/static/css/note.css" />
  <link
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic&subset=latin,latin-ext"
    rel="stylesheet"
    type="text/css"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Source+Code+Pro:200,300,400,500,600,700,900&subset=latin,latin-ext"
    rel="stylesheet"
    type="text/css"
  />

  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-P7WVHD84D1"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-P7WVHD84D1");
  </script>
</head>


  <body>

    <div id="nav-bg">
  <nav id="top-nav">
    <a href="/" id="logo">./missing-semester</a>
    <input type="checkbox" id="menu-icon" />
    <label class="menu-label" for="menu-icon"></label>
    <div class="trigger">
      <div class="trigger-child">
        <span class="nav-link"><a href="/2025/">lectures</a></span>
        <span class="nav-link">
          <a href="/statement_of_intent">statement of intent</a>
        </span>
        <span class="nav-link"><a href="/about/">about</a></span>
      </div>
    </div>
  </nav>
</div>


    <div id="content">
    <h1 class="title">Package Management and Dependency Management</h1>


  <div class="youtube-wrapper" style="padding-bottom: 56.25%;">
    <iframe src="https://www.youtube.com/embed/tgvt473T8xA" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>


<p>Software usually builds on (a collection of) other software, which necessitates
dependency management.</p>

<p>Package/dependency management programs are language-specific, but many share
common ideas.</p>

<h1 id="package-repositories">Package repositories</h1>

<p>Packages are hosted in <em>package repositories</em>. There are different repositories
for different languages (and sometimes multiple for a particular language),
such as <a href="https://pypi.org/">PyPI</a> for Python, <a href="https://rubygems.org/">RubyGems</a>
for Ruby, and <a href="https://crates.io/">crates.io</a> for Rust. They generally store
software (source code and sometimes pre-compiled binaries for specific
platforms) for all versions of a package.</p>

<h1 id="semantic-versioning">Semantic versioning</h1>

<p>Software evolves over time, and we need a way to refer to software versions.
Some simple ways could be to refer to software by a sequence number or a commit
hash, but we can do better in terms of communicating more information: using
version numbers.</p>

<p>There are many approaches; one popular one is <a href="https://semver.org/">Semantic
Versioning</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x.y.z
^ ^ ^
| | +- patch
| +--- minor
+----- major
</code></pre></div></div>

<p>Increment <strong>major</strong> version when you make incompatible API changes.</p>

<p>Increment <strong>minor</strong> version when you add functionality in a backward-compatible manner.</p>

<p>Increment <strong>patch</strong> when you make backward-compatible bug fixes.</p>

<p>For example, if you depend on a feature introduced in <code class="language-plaintext highlighter-rouge">v1.2.0</code> of some
software, then you can install <code class="language-plaintext highlighter-rouge">v1.x.y</code> for any minor version <code class="language-plaintext highlighter-rouge">x &gt;= 2</code> and any
patch version <code class="language-plaintext highlighter-rouge">y</code>. You need to install major version <code class="language-plaintext highlighter-rouge">1</code> (because <code class="language-plaintext highlighter-rouge">2</code> can
introduce backward-incompatible changes), and you need to install a minor
version <code class="language-plaintext highlighter-rouge">&gt;= 2</code> (because you depend on a feature introduced in that minor
version). You can use any newer minor version or patch version because
they should not introduce any backward-incompatible changes.</p>

<h1 id="lock-files">Lock files</h1>

<p>In addition to specifying versions, it can be nice to enforce that the
<em>contents</em> of the dependency have not changed to prevent tampering. Some tools
use <em>lock files</em> to specify cryptographic hashes of dependencies (along with
versions) that are checked on package install.</p>

<h1 id="specifying-versions">Specifying versions</h1>

<p>Tools often let you specify versions in multiple ways, such as:</p>

<ul>
  <li>exact version, e.g. <code class="language-plaintext highlighter-rouge">2.3.12</code></li>
  <li>minimum major version, e.g. <code class="language-plaintext highlighter-rouge">&gt;= 2</code></li>
  <li>specific major version and minimum patch version, e.g. <code class="language-plaintext highlighter-rouge">&gt;= 2.3, &lt;3.0</code></li>
</ul>

<p>Specifying an exact version can be advantageous to avoid different behaviors
based on installed dependencies (this shouldn’t happen if all dependencies
faithfully follow semver, but sometimes people make mistakes). Specifying a
minimum requirement has the advantage of allowing bug fixes to be installed
(e.g. patch upgrades).</p>

<h1 id="dependency-resolution">Dependency resolution</h1>

<p>Package managers use various dependency resolution algorithms to satisfy
dependency requirements. This often gets challenging with complex dependencies
(e.g. a package can be indirectly depended on by multiple top-level
dependencies, and different versions could be required). Different package
managers have different levels of sophistication in their dependency
resolution, but it’s something to be aware of: you may need to understand this
if you are debugging dependencies.</p>

<h1 id="virtual-environments">Virtual environments</h1>

<p>If you’re developing multiple software projects, they may depend on different
versions of a particular piece of software. Sometimes, your build tool will
handle this naturally (e.g. by building a static binary).</p>

<p>For other build tools and programming languages, one approach is handling this
with virtual environments (e.g. with the
<a href="https://docs.python-guide.org/dev/virtualenvs/">virtualenv</a> tool for Python).
Instead of installing dependencies system-wide, you can install dependencies
per-project in a virtual environment, and <em>activate</em> the virtual environment
that you want to use when you’re working on a specific project.</p>

<h1 id="vendoring">Vendoring</h1>

<p>Another very different approach to dependency management is <em>vendoring</em>.
Instead of using a dependency manager or build tool to fetch software, you copy
the entire source code for a dependency into your software’s repository. This
has the advantage that you’re always building against the same version of the
dependency and you don’t need to rely on a package repository, but it is more
effort to upgrade dependencies.</p>


<hr>

<div class="small center">
<p><a href="https://github.com/missing-semester/missing-semester/blob/master/_2019/package-management.md">Edit this page</a>.</p>
<p>Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA</a>.</p>
</div>

    </div>

  </body>

</html>
